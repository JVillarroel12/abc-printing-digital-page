<main>
  <section class="header">
    <div class="card">
      <span>Organizaciones</span>
    </div>
    <button (click)="openModalOrg()">
      <ion-icon name="add"></ion-icon>
      <span>NUEVO REGISTRO</span>
    </button>
  </section>
  <section class="section-filter">
    <div class="form">
      <div class="card">
        <label for="">
          <ion-icon name="search"></ion-icon>
          Buscar
        </label>
        <input placeholder="Buscar " [(ngModel)]="form.name" #order />
      </div>

      <div class="card selector">
        <label>Fecha Desde:</label>
        <input
          type="datetime-local"
          placeholder="Fecha Desde"
          [(ngModel)]="form.fechaInicio"
          (change)="onInicioDateChange($event)"
        />
      </div>

      <div class="card selector">
        <label>Fecha Hasta:</label>
        <input
          type="datetime-local"
          placeholder="Fecha gasta"
          [(ngModel)]="form.fechaFin"
          (change)="onFinDateChange($event)"
        />
      </div>
    </div>
    <div class="list" id="containerLines">
      <div class="grid columns-head">
        <span class="grid__status">
          <ion-label></ion-label>
        </span>
        <span class="grid__contribuyente">
          <ion-label>Contribuyente especial</ion-label>
        </span>
        <span class="grid__rif">
          <ion-label>RIF</ion-label>
        </span>

        <span class="grid__social">
          <ion-label>Razón social</ion-label>
        </span>
        <span class="grid__email">
          <ion-label>Email</ion-label>
        </span>
        <span class="grid__numeracionAutomatica">
          <ion-label>Numeración automática</ion-label>
        </span>
        <span class="grid__buttons">
          <ion-label></ion-label>
        </span>
      </div>
      <span
        class="grid items"
        *ngFor="let org of filteredOrgs | dynamicFilter : form.name"
        (dblclick)="selectOrg(org)"
      >
        <span class="grid__status">
          <div
            [ngClass]="{
              active: org.isactive == true,
              noActive: org.isactive == false
            }"
          >
            <p *ngIf="org.isactive == true">SI</p>
            <p *ngIf="org.isactive == false">NO</p>
          </div>
        </span>
        <span class="grid__contribuyente">
          <div
            [ngClass]="{
              active: org.contribuyente_especial == true,
              noActive: org.contribuyente_especial == false
            }"
          >
            <p *ngIf="org.contribuyente_especial == true">SI</p>
            <p *ngIf="org.contribuyente_especial == false">NO</p>
          </div>
        </span>
        <span class="grid__rif"
          >{{ org.tipo_identificacion }}-{{ org.value }}</span
        >
        <span class="grid__social">{{ org.social_name }}</span>
        <span class="grid__email">{{ org.email }}</span>
        <span class="grid__numeracionAutomatica">
          <div
            [ngClass]="{
              active: org.numeracion_automatica == true,
              noActive: org.numeracion_automatica == false
            }"
          >
            <p *ngIf="org.numeracion_automatica == true">SI</p>
            <p *ngIf="org.numeracion_automatica == false">NO</p>
          </div>
        </span>
        <span class="grid__buttons">
          <button class="editbutton">
            <ion-icon name="create-outline"></ion-icon>
          </button>
        </span>
      </span>
    </div>
  </section>
</main>
