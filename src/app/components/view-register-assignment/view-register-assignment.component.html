<main>
  <section class="header">
    <div class="card">
      <span>Registrar Asignación</span>
    </div>
    <button (click)="openRegisterAssignment()">
      <ion-icon name="add"></ion-icon>
      <span>NUEVO REGISTRO</span>
    </button>
  </section>
  <section class="section-filter">
    <div class="form">
      <div class="card">
        <label for="">
          <ion-icon name="search"></ion-icon>
          Buscar
        </label>
        <input placeholder="Buscar " [(ngModel)]="form.name" #order />
      </div>

      <!-- <div class="card selector">
        <label>Fecha Desde:</label>
        <input 
        type="datetime-local"
        placeholder="Fecha Desde" 
        [(ngModel)]="form.fechaInicio" 
        (change)="onInicioDateChange($event)"
        
        >
      </div>

      <div class="card selector">
        <label>Fecha Hasta:</label>
        <input type="datetime-local"
        placeholder="Fecha gasta" 
        [(ngModel)]="form.fechaFin" 
        (change)="onFinDateChange($event)"
        
        >
      </div> -->
    </div>
    <div class="list" id="containerLines">
      <div class="grid columns-head">
        <span class="grid__status">
          <ion-label></ion-label>
        </span>
        <span class="grid__process">
          <ion-label>Procesar</ion-label>
        </span>
        <span class="grid__socialName">
          <ion-label>Razón social</ion-label>
        </span>
        <span class="grid__value">
          <ion-label>RIF</ion-label>
        </span>
        <span class="grid__serie">
          <ion-label>Serie</ion-label>
        </span>
        <span class="grid__quantity">
          <ion-label>Cant. Documentos</ion-label>
        </span>
        <span class="grid__start">
          <ion-label>Nro. Inicio</ion-label>
        </span>
        <span class="grid__end">
          <ion-label>Nro. Final</ion-label>
        </span>
      </div>
      <span
        class="grid items"
        *ngFor="
          let sequence of filteredStartContribuyentes
            | dynamicFilter : form.name
        "
      >
        <span class="grid__status">
          <div
            [ngClass]="{
              active: sequence.isactive == true,
              noActive: sequence.isactive == false
            }"
          >
            <p *ngIf="sequence.isactive == true">Activa</p>
            <p *ngIf="sequence.isactive == false">Inactiva</p>
          </div>
        </span>
        <span class="grid__process">
          <ion-icon
            name="play-outline"
            title="Procesar asignación"
            (click)="processAssignment(sequence)"
          ></ion-icon>
        </span>
        <span class="grid__socialName">
          {{ sequence.org_id_src.social_name }}
        </span>
        <span class="grid__value"
          >{{ sequence.org_id_src.tipo_identificacion }} -
          {{ sequence.org_id_src.value }}</span
        >
        <span class="grid__serie">{{ sequence.serie }}</span>
        <span class="grid__quantity">{{ sequence.quantity }}</span>
        <span class="grid__start">
          {{ sequence.startno }}
        </span>
        <span class="grid__end">
          {{ sequence.endno }}
        </span>
      </span>
    </div>
  </section>
</main>
